{% extends "_layouts/examples.html" %}
{% block title %}Notifications / Dismissable (not implemented){% endblock %}

{% block standalone_css %}patterns_notifications{% endblock %}

{% block content %}
<div class="p-notification" id="notification">
  <div class="p-notification__content">
    <div class="p-notification__title">Title</div>
    <div class="p-notification__message">Body lorem ipsum dolor sit amet consequiteor. Lorem ipsum dolor sit amet consequiteor.</div>
    <button class="p-notification__close" aria-label="Close notification" aria-controls="notification">Close</button>
  </div>
  <div class="p-notification__meta">
      <div class="p-notification__time">1h ago</div>
      <div class="p-notification__actions"><button>Action</button></div>
  </div>
</div>
  
  <script>
  /**
    Attaches event listener for hide notification on close button click.
    @param {HTMLElement} closeButton The notification close button element.
  */
  function setupCloseButton(closeButton) {
    closeButton.addEventListener('click', function(event) {
      var target = event.target.getAttribute('aria-controls');
      var notification = document.getElementById(target);
  
      if (notification) {
        notification.classList.add('u-hide');
      }
    });
  }
  
  // Set up all notification close buttons.
  var closeButtons = document.querySelectorAll('.p-notification [aria-controls]');
  
  for (var i = 0, l = closeButtons.length; i < l; i++) {
    setupCloseButton(closeButtons[i]);
  }
  </script>
{% endblock %}
